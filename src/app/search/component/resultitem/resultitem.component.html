<mat-card *ngIf="product" style="padding: 10px; margin: 5px; width: 100%" fxLayout="row"  fxLayoutAlign="start" [ngStyle]="{'background-color': (stateSearch.product$|async) == product.title ? 'lightcyan' : 'white' }"  >
        
    <mat-card-header fxLayoutAlign="start stretch" style="width:100%" >
         
          <mat-card-title fxLayout="row"   (click)="detail()">
            <div class="ranking">#{{rank+1}}</div>
            <span style="align-self: center;padding-left: 5px;" fxFlex="80"> {{product.brand}} {{product.title}}   </span>
            
            <span style="align-self: center;text-align: center" >${{product.price}}
               <!-- <div style="font-size:10px">{{d.currency}}</div> -->
              </span>
          </mat-card-title>
          <mat-card-subtitle fxLayout="row" (click)="detail()">
              <img mat-card-avatar [src]="product.picture">
              <div style="padding-left: 10px;">
                {{ (product.description.length>100)? (product.description | slice:0:100)+'..':(product.description) }}
              </div>
             
          </mat-card-subtitle>
          <mat-card-subtitle  fxLayout="row" fxLayoutAlign="end stretch" >
              <div (click)="detail()" style="width: 80%;padding-top: 15px;" fxLayoutAlign="start stretch">
                <star-rating             
                starType="svg" [rating]="product.avgRating" size="medium"  [readOnly]="true" [showHalfStars]="true"></star-rating>
              <div style=" align-self: center;padding-bottom: 4px;"> <b>{{product.avgRating}}</b> </div>
              </div> 
              <button style="z-index:2;margin-top:10px;"  (click)="product.isCompare=!product.isCompare;addCompare()"
              [ngStyle]="{'background-color':product.isCompare ? 'lightcyan' : 'white' }"
              fxLayout="row" >
              <div style="margin:2px;width: 70px;">Compare {{product.isCompare?'-':'+'}}</div>
             </button>
           </mat-card-subtitle>
        </mat-card-header>

  </mat-card>
