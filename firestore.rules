service cloud.firestore {

  match /databases/{database}/documents {

    match /users/{userId} {
       allow read;
       allow write: if request.auth != null && request.auth.uid == userId;
    }
    
    match /{collectionName}/{documentId} {
    	allow read, create: if collectionName != "users"; 
      allow write, update: if collectionName != "users" && request.auth != null;
    }
  
  }
}
